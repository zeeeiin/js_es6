<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  
    <script>
      //프로미스를 반환하는 함수 3개
      // async function ajax1() {
      //   setTimeout(() => {
      //     return "5초 뒤 반환";
      //   }, 5000);
      // }

      function ajax1() {

        return new Promise(function(success, fail) {
          setTimeout( () => {
            success('5초뒤 실행');
          }, 5000)
        })
      }

      console.log(ajax1()); //5초뒤에 콜백의 실행결과물로 success 가 출력


      function ajax2() {

      return new Promise(function(success, fail) {
        setTimeout( () => {
          success('3초뒤 실행');
        }, 3000)
      })
      }


      function ajax3() {

      return new Promise(function(success, fail) {
        setTimeout( () => {
          success('2초뒤 실행');
        }, 2000)
      })
      }


      // ajax1().then( (success) => {
      //   console.log(success);  //5초뒤에 콜백의 실행결과물 5초뒤 실행 출력
      // })
      
      // ajax2().then( (success) => {
      //   console.log(success);  
      // })
      
      // ajax3().then( (success) => {
      //   console.log(success);  
      // })
      
      
      //ajax1 => ajax2 => ajax3을 반환받는다.
      // ajax1().then( (success) => {
      //   console.log(success);  

      //   ajax2().then( (success) => {
      //    console.log(success);  

      //     ajax3().then( (success) => {
      //       console.log(success);  
      //     })
      //   })
      // })


      //즉시실행함수 안에서 함수를 호출
      (async () => {

        const result1 = await ajax1();
        console.log(result1);
        const result2 = await ajax2();
        console.log(result2);
        const result3 = await ajax3();
        console.log(result3);
        
      })();

    </script>

</body>
</html>